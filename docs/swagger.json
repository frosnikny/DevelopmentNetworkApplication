{
    "swagger": "2.0",
    "info": {
        "contact": {}
    },
    "paths": {
        "/api/devs": {
            "get": {
                "description": "Возвращает все доступные услуги по разработке с опциональной фильтрацией по типу",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Услуги по разработке"
                ],
                "parameters": [
                    {
                        "type": "string",
                        "description": "тип услуги для фильтрации",
                        "name": "type",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/schemes.GetAllDevelopmentServicesResponse"
                        }
                    }
                }
            },
            "post": {
                "description": "Добавить новую услугу по разработке",
                "consumes": [
                    "multipart/form-data"
                ],
                "tags": [
                    "Услуги по разработке"
                ],
                "parameters": [
                    {
                        "type": "file",
                        "description": "Изображение услуги по разработке",
                        "name": "image",
                        "in": "formData"
                    },
                    {
                        "type": "string",
                        "description": "Название",
                        "name": "title",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Описание",
                        "name": "description",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "Цена",
                        "name": "price",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Технологии",
                        "name": "technology",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "number",
                        "description": "Цена за день",
                        "name": "detailed_price",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/api/devs/{development_service_id}": {
            "get": {
                "description": "Возвращает более подробную информацию об одной из услуг по разработке",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Услуги по разработке"
                ],
                "parameters": [
                    {
                        "type": "string",
                        "description": "id услуги",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/ds.DevelopmentService"
                        }
                    }
                }
            },
            "put": {
                "description": "Изменить данные полей об услуге по разработке",
                "consumes": [
                    "multipart/form-data"
                ],
                "tags": [
                    "Услуги по разработке"
                ],
                "parameters": [
                    {
                        "type": "string",
                        "description": "Идентификатор услуги",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "file",
                        "description": "Изображение услуги по разработке",
                        "name": "image",
                        "in": "formData"
                    },
                    {
                        "type": "string",
                        "description": "Название",
                        "name": "title",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Описание",
                        "name": "description",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "Цена",
                        "name": "price",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Технологии",
                        "name": "technology",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "number",
                        "description": "Цена за день",
                        "name": "detailed_price",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            },
            "delete": {
                "description": "Удаляет услугу по разработке по id",
                "tags": [
                    "Услуги по разработке"
                ],
                "parameters": [
                    {
                        "type": "string",
                        "description": "id услуги",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/api/devs/{development_service_id}/add_to_request": {
            "post": {
                "description": "Добавить выбранную услугу по разработке в черновик заказа",
                "tags": [
                    "Услуги по разработке"
                ],
                "parameters": [
                    {
                        "type": "string",
                        "description": "id услуги",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/api/requests": {
            "get": {
                "description": "Возвращает все заказы с фильтрацией по статусу и дате формирования",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Заказы"
                ],
                "parameters": [
                    {
                        "type": "string",
                        "description": "статус заказа",
                        "name": "status",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "начальная дата формирования",
                        "name": "formation_date_start",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "конечная дата формирования",
                        "name": "formation_date_end",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/schemes.AllCustomerRequestsResponse"
                        }
                    }
                }
            },
            "put": {
                "description": "Позволяет изменить спецификацию заказа и возвращает обновлённые данные",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Заказы"
                ],
                "parameters": [
                    {
                        "description": "Спецификация",
                        "name": "transport",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/app.SwaggerUpdateTransportationRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            },
            "delete": {
                "description": "Удаляет заказ",
                "tags": [
                    "Заказы"
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/api/requests/user_confirm": {
            "put": {
                "description": "Сформировать заказ пользователем",
                "tags": [
                    "Заказы"
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/api/requests/{customer_request_id}": {
            "get": {
                "description": "Возвращает подробную информацию о заказе и его составе",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Заказы"
                ],
                "parameters": [
                    {
                        "type": "string",
                        "description": "id заказа",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/schemes.CustomerRequestResponse"
                        }
                    }
                }
            }
        },
        "/api/requests/{customer_request_id}/delete_development_service/{development_service_id}": {
            "delete": {
                "description": "Удалить услугу по разработке из чернового заказа",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Заказы"
                ],
                "parameters": [
                    {
                        "type": "string",
                        "description": "id заказа",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/api/requests/{id}/moderator_confirm": {
            "put": {
                "description": "Подтвердить или отменить заказ модератором",
                "tags": [
                    "Заказы"
                ],
                "parameters": [
                    {
                        "type": "string",
                        "description": "id заказа",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "подтвердить",
                        "name": "confirm",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "boolean"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/api/user/login": {
            "post": {
                "description": "Авторизует пользователя по логиню, паролю и отдаёт jwt токен для дальнейших запросов",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Авторизация"
                ],
                "parameters": [
                    {
                        "description": "login and password",
                        "name": "user_credentials",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/schemes.LoginReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/schemes.AuthResp"
                        }
                    }
                }
            }
        },
        "/api/user/loguot": {
            "get": {
                "description": "Выход из аккаунта",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "Авторизация"
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/api/user/sign_up": {
            "post": {
                "description": "Регистрация нового пользователя",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "Авторизация"
                ],
                "parameters": [
                    {
                        "description": "login and password",
                        "name": "user_credentials",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/schemes.RegisterReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        }
    },
    "definitions": {
        "app.SwaggerUpdateTransportationRequest": {
            "type": "object",
            "properties": {
                "work_specification": {
                    "type": "string"
                }
            }
        },
        "ds.DevelopmentService": {
            "type": "object",
            "properties": {
                "description": {
                    "type": "string"
                },
                "detailedPrice": {
                    "type": "number"
                },
                "image_url": {
                    "type": "string"
                },
                "price": {
                    "type": "number"
                },
                "recordStatus": {
                    "type": "integer"
                },
                "technology": {
                    "type": "string"
                },
                "title": {
                    "type": "string"
                },
                "uuid": {
                    "type": "string"
                }
            }
        },
        "schemes.AllCustomerRequestOutputResponse": {
            "type": "object",
            "properties": {
                "completion_date": {
                    "type": "string"
                },
                "creation_date": {
                    "type": "string"
                },
                "creator": {
                    "type": "string"
                },
                "formation_date": {
                    "type": "string"
                },
                "moderator": {
                    "type": "string"
                },
                "payment_status": {
                    "type": "string"
                },
                "record_status": {
                    "type": "integer"
                },
                "uuid": {
                    "type": "string"
                },
                "work_specification": {
                    "type": "string"
                }
            }
        },
        "schemes.AllCustomerRequestsResponse": {
            "type": "object",
            "properties": {
                "customer_requests": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/schemes.AllCustomerRequestOutputResponse"
                    }
                }
            }
        },
        "schemes.AuthResp": {
            "type": "object",
            "properties": {
                "access_token": {
                    "type": "string"
                },
                "token_type": {
                    "type": "string"
                }
            }
        },
        "schemes.CustomerRequestOutputResponse": {
            "type": "object",
            "properties": {
                "completion_date": {
                    "type": "string"
                },
                "creation_date": {
                    "type": "string"
                },
                "creator": {
                    "type": "string"
                },
                "formation_date": {
                    "type": "string"
                },
                "moderator": {
                    "type": "string"
                },
                "payment_status": {
                    "type": "string"
                },
                "record_status": {
                    "type": "integer"
                },
                "service_requests": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/schemes.ServiceRequestResponse"
                    }
                },
                "uuid": {
                    "type": "string"
                },
                "work_specification": {
                    "type": "string"
                }
            }
        },
        "schemes.CustomerRequestResponse": {
            "type": "object",
            "properties": {
                "customer_request": {
                    "$ref": "#/definitions/schemes.CustomerRequestOutputResponse"
                },
                "development_services": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ds.DevelopmentService"
                    }
                }
            }
        },
        "schemes.CustomerRequests": {
            "type": "object",
            "properties": {
                "development_services_count": {
                    "type": "integer"
                },
                "uuid": {
                    "type": "string"
                }
            }
        },
        "schemes.GetAllDevelopmentServicesResponse": {
            "type": "object",
            "properties": {
                "development_services": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ds.DevelopmentService"
                    }
                },
                "draft_customer_request": {
                    "$ref": "#/definitions/schemes.CustomerRequests"
                }
            }
        },
        "schemes.LoginReq": {
            "type": "object",
            "required": [
                "login",
                "password"
            ],
            "properties": {
                "login": {
                    "type": "string",
                    "maxLength": 30
                },
                "password": {
                    "type": "string",
                    "maxLength": 30
                }
            }
        },
        "schemes.RegisterReq": {
            "type": "object",
            "required": [
                "login",
                "password"
            ],
            "properties": {
                "login": {
                    "type": "string",
                    "maxLength": 30
                },
                "password": {
                    "type": "string",
                    "maxLength": 30
                }
            }
        },
        "schemes.ServiceRequestResponse": {
            "type": "object",
            "properties": {
                "development_service_id": {
                    "type": "string"
                },
                "workScope": {
                    "type": "string"
                },
                "workingDays": {
                    "type": "integer"
                }
            }
        }
    }
}